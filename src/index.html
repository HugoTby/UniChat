<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <title>UniChat - Version 1.7.4+20230507.1452 [DESKTOP]</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="js/topbar.js"></script>
  <link rel="stylesheet" href="css/topbar.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
  <script src='https://meet.jit.si/external_api.js'></script>
</head>
<div class="mainApp">
  <div class="topBar">
    <div class="titleBar">
      <button id="showHideMenus" class="toggleButton"></button>
      <a href="https://github.com/HugoTby/UniChat/releases/tag/v1.0.0" target="_blank"><img
          style="padding-left:15px;height: 35px;" src="icons/icon_top_bar.png" alt="GitHub"></a>
      <a href="https://la-providence.net" target="_blank"><img
          style="padding-left:15px;padding-right:15px;height: 35px;" src="icons/icon_top_bar2.png"
          alt="La Providence"></a>
      <div class="title">
        title
      </div>
    </div>
    <div class="titleBarBtns">
      <button id="minimizeBtn" class="topBtn minimizeBtn" title="Minimize"></button>
      <button id="maximizeBtn" class="topBtn maximizeBtn" title="Maximize"></button>
      <button id="closeBtn" class="topBtn closeBtn" title="Close"></button>
    </div>
  </div>
  <div class="contentArea">
    <div id="mySidebar" class="leftMenu">
      <h1>Bienvenue !</h1>

      <div class="footerButtons">
        <button id="button1">
          Partage Écran
        </button>
        <button id="button2">
          Chat en direct
        </button>
      </div>
      <h1 style="font-size: 10px;bottom: 37; text-align: center;"><mark
          style="background-color:yellow;border-radius:3px">IP CLIENT : <strong></strong></mark></h1>
      <h1 style="font-size: 26px;text-align:center;">PRE-ALPHA</h1>
    </div>
    <div class="contentPages">

      <div id="div1" class="visible">
        <div style="width: 100%;height: 92vh" id="meet"></div>
      </div>
      <div id="div2" class="hidden">
      </div>

      <script>
        document.getElementById("button1").addEventListener("click", function () {
          document.getElementById("div1").classList.add("visible");
          document.getElementById("div1").classList.remove("hidden");
          document.getElementById("div2").classList.add("hidden");
          document.getElementById("div2").classList.remove("visible");
        });

        document.getElementById("button2").addEventListener("click", function () {
          document.getElementById("div1").classList.add("hidden");
          document.getElementById("div1").classList.remove("visible");
          document.getElementById("div2").classList.add("visible");
          document.getElementById("div2").classList.remove("hidden");
        });
      </script>
    </div>
  </div>


  <script>
    const domain = 'meet.jit.si';
    const options = {
      //roomName: 'UniChat-Server-343',
      roomName: 'Test02',
      parentNode: document.querySelector('#meet'),
      lang: 'fr',
      devices: {
        audioInput: '<deviceLabel>',
        audioOutput: '<deviceLabel>',
        videoInput: '<deviceLabel>'
      },
      userInfo: {
        email: 'email@la-providence.net',
        displayName: 'UniChat User'
      },
      configOverwrite: {
        disableNotifications: true,
        disableModeratorControls: {
          mute: true,
          destroy: true,
          videoMute: true,
          participantActions: true,
        },
        disableKick: true,
        toolbarButtons: [
          'desktop', 'fullscreen',
          'fodeviceselection', 'hangup', 'raisehand',
          'tileview', 'videobackgroundblur', 'help',
        ],
        desktopSharing: 'allow',
        disableRemoteMute: true,
        disableAudioLevels: true,
        disableRemoteControl: true,
        disablePrivateChat: true,
      },
    };

    const api = new JitsiMeetExternalAPI(domain, options);

    // bloquer le microphone
    api.executeCommand('toggleAudio', false);

    // bloquer la caméra
    api.executeCommand('videoInput', false);
  </script>


  <script>
    setTimeout(() => {
      console.log("%c Attends ! ", "color:#fff; background-color: rgb(25,25,50); padding:24px;font-weight:bold;font-size:5em; border-radius:5px");
      console.log("%c Si quelqu'un t'a dit de copier/coller quelque chose ici, il y a à peu près 11 chances sur 10 que ce soit une arnaque. ", "color:#fff;font-weight:bold;font-size:1.5em; ");
      console.log("%c Coller quelque chose ici pourrait donner aux assaillants accès à ton compte UniChat. ", "color:red;font-weight:bold;font-size:1.5em; ");
    }, 5000);
  </script>
  </body>

</html>